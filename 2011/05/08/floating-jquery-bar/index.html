<!DOCTYPE html>
<html>
<head>
<title>Ross-Hunter: Creating an Animated Floating Sidebar With jQuery</title>
<meta content='I finally got around to implementing a floating sidebar that contains all of my follow links contained in my header. Lots of sites have a floati...' name='description'>
<meta charset='utf-8'>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<meta content='IE=edge' http-equiv='X-UA-Compatible'>
<meta content='True' name='HandheldFriendly'>
<link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
<link href="../../../../images/images/favicon.ico" rel="icon" type="image/ico" />
<link href="../../../../stylesheets/application-ec71be74.css" rel="stylesheet" />
<link href='//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400' rel='stylesheet' type='text/css'>
</head>
<body class='post-template nav-closed'>
<div class='nav'>
<h3 class='nav-title'>Menu</h3>
<a class='nav-close' href='#'>
<span class='hidden'>Close</span>
</a>
<ul>
<li class='nav-home' role='presentation'>
<a href='/'>Home</a>
</li>
<li class='nav-blog' role='presentation'>
<a href='/blog/'>Blog</a>
</li>
<li class='nav-portfolio' role='presentation'>
<a href='/portfolio/'>Portfolio</a>
</li>
<li class='nav-github' role='presentation'>
<a href='https://github.com/ross-hunter'>GitHub</a>
</li>
<li class='nav-twitter' role='presentation'>
<a href='https://twitter.com/ross_hunter'>Twitter</a>
</li>
<li class='nav-linkedin' role='presentation'>
<a href='https://www.linkedin.com/in/rossh'>LinkedIn</a>
</li>
<li class='nav-facebook' role='presentation'>
<a href='http://www.facebook.com/ross.hunter'>Facebook</a>
</li>
<li class='nav-email' role='presentation'>
<a href='#email-protection-ebff-uhagre@ebff-uhagre.pbz'>Email</a>
</li>
</ul>
<a class='subscribe-button icon-feed' href='/feed.xml'>Subscribe</a>
</div>
<span class='nav-cover'></span>

<div class='site-wrapper'>
<header class='main-header no-cover post-head'>
<nav class='main-nav clearfix'>
<a class='menu-button icon-menu' href='#'>
<span class='word'>Menu</span>
</a>
</nav>
</header>
<main class='content' role='main'>
<article class='post'>
<header class='post-header'>
<h1 class='post-title'>Creating an Animated Floating Sidebar With jQuery</h1>
<section class='post-meta'>
<time class='post-date' datetime='2011-05-08'>
08 May 2011
</time>
<a href='/tag/code/'>code</a>, <a href='/tag/js/'>js</a>
</section>
</header>
<section class='post-content'><p>I finally got around to implementing a floating sidebar that contains all of my follow links contained in my header. Lots of sites have a floating sidebar, but I wanted mine to be a little different. First, the items in my sidebar come flying out of the header to the sidebar 
when the user scrolls down past the header, instead of being fixed over on the side. You will also notice a nifty little elastic animation effect.</p>

<p>First let&rsquo;s tackle the fact that the sidebar items actually come &ldquo;unglued&rdquo; from the header and hang out over on the side when the user scrolls past the header, and also return to their home inside of the header when scrolled back to the top. The first step is to give the header region containing the home for the follow links relative positioning like so.</p>

<script src="http://pastebin.com/embed_js.php?i=nixWwawa"></script>

<p>Now, all of the magic happens with jQuery. The full code is posted below, but I would like to write you a narrative to explain it. The first step, believe it or not, is to set a timer. We set a timer, because we are going to be binding to the scroll function, and without setting a timeout, you can experience serious performance problems when someone scrolls quickly on your site, the scroll event can be triggered hundreds of times a second with certain mousewheels! The next thing we do is keep track of the home position of the block we will be floating.</p>

<p>It&rsquo;s bind time baby. The very first thing we do inside of the scroll function is to check the timer. If the timer is still going we don&rsquo;t do anything. If the timer has expired we reset the timer and then check if we have scrolled past the home position of our block. If we have, then the first thing is to &ldquo;unglue&rdquo; the block by giving it absolute positioning. Then we animate the block over to the side and set it&rsquo;s top position to the top of the window. I have also added easeOutElastic easing to make the animation a little more fun (check out all the types of easing available at this <a href="http://hosted.zeh.com.br/mctween/animationtypes.html">easing types demo</a>). I am also stopping the animation, clearing the queue, and jumping to the end every time the animation is fired, because even with the timer this function will be called a lot and we could potentially have a long queue of animations.</p>

<p>Now, if the user scrolls, and it isn&rsquo;t below the block&rsquo;s home (plus an offset for webkit), then we add the CSS to return the block to it&rsquo;s home. I don&rsquo;t animate it, because I really want the links to be in their home position as soon as the user scrolls up, and doing a really fast animation didn&rsquo;t make sense if the user wasn&rsquo;t going to see the animation anyway. We follow that up by resetting the timer to 0 and then defining the timeout length (250ms in my case, a larger number will have better reliability, but not as smooth of scrolling).</p>

<script src="http://pastebin.com/embed_js.php?i=UF9ki0Xa"></script>

<p>This code is a combination of several methods that I came across while researching how to do a floating sidebar, and I went down several paths before I settled on this code. As a result it is almost surely not optimized (do I need to clear the queue if I am setting a timer anyway?), but it works and should be fairly performant, even in IE. Please leave any suggestions for improvement or any questions in the comments.</p>
</section>
<footer class='post-footer'>
<figure class='author-image'>
<a class='img' href='/' style='background-image: url(https://www.gravatar.com/avatar/99057d911bd664e8cde1a2995ee25401?size=68)'>
<span class='hidden'>Ross Hunter's Picture</span>
</a>
</figure>
<section class='author'>
<h4>
<a href='/'>Ross Hunter</a>
</h4>
<p></p>
I do things with computers sometimes
<div class='author-meta'>
<span class='author-location icon-location'>Grand Rapids, MI</span>
</div>
</section>
<section class='share'>
<h4>Share this post</h4>
<a class='icon-twitter' href='https://twitter.com/share?text=Creating an Animated Floating Sidebar With jQuery&amp;amp;url=http://www.ross-hunter.com/2011/05/08/floating-jquery-bar/' onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
<span class='hidden'>Twitter</span>
</a>
<a class='icon-facebook' href='https://www.facebook.com/sharer/sharer.php?u=http://www.ross-hunter.com/2011/05/08/floating-jquery-bar/' onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
<span class='hidden'>Facebook</span>
</a>
<a class='icon-google-plus' href='https://plus.google.com/share?url=http://www.ross-hunter.com/2011/05/08/floating-jquery-bar/' onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
<span class='hidden'>Google+</span>
</a>
</section>
<section class='comments'>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
this.page.url = 'http://ross-hunter.com/2011/05/08/floating-jquery-bar/';  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 3; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//ross-hunter.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</section>
</footer>
</article>
</main>
<aside class='read-next'>
<a class='no-cover read-next-story' href='/2011/04/04/masonry/'>
<section class='post'>
<h2>jQuery Masonry is Bad Ass</h2>
<p>jQuery Masonry is a sweet layout plugin for jQuery. They describe it as &ldquo;The flip side of CSS floats&rdquo;.&hellip;</p>
</section>
</a>
<a class='no-cover prev read-next-story' href='/2011/06/21/macfusion/'>
<section class='post'>
<h2>Fixing Macfusion / MacFuse for Snow Leopard - Mount SSH Drives in Mac OS X</h2>
<p>This is just a quick heads up to anyone trying in vain to get MacFuse and Macfusion to work&hellip;</p>
</section>
</a>
</aside>

<footer class='site-footer clearfix'>
<section class='copyright'>
<a href='/'>Ross-Hunter</a>
&copy;
2017
</section>
<section class='poweredby'>
Based on the Casper theme powered by
<a href='https://ghost.org' target='_blank'>Ghost</a>
</section>
</footer>
</div>
<script src="../../../../javascripts/application-2ee90952.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  
  ga('create', 'UA-4184025-5', 'auto');
  ga('send', 'pageview');
</script>
<script type="text/javascript">!function(){try{var a,b,c,d,g=document.getElementsByTagName("a");for(c=0;g.length-c;c++)try{b=g[c].getAttribute("href"),b&&b.indexOf("#email-protection-")>-1&&b.length>19&&(a="",d=19+b.indexOf("#email-protection-"),b.length>d&&(a=b.substr(18).replace(/[a-zA-Z]/g,function(a){return String.fromCharCode(("Z">=a?90:122)>=(a=a.charCodeAt(0)+13)?a:a-26)})),g[c].setAttribute("href","mailto:"+a))}catch(h){}}catch(h){}}();</script>
</body>
</html>
